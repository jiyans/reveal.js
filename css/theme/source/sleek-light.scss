/**
 * SleekCode light theme of reveal.js.
 */

// Default mixins and settings -----------------
@use "sass:color";
@import "../template/mixins";
@import "../template/settings";
// ---------------------------------------------

// Include theme-specific fonts
@import url(./fonts/source-sans-pro/source-sans-pro.css);
@import url(./fonts/source-han-serif/source-han-serif.css);
@import url(./fonts/source-han-sans/source-han-sans.css);
@import url("https://fonts.googleapis.com/css?family=Roboto:200,200i,300,300i,350,350i,400,400i&display=swap");

html * {
  color-profile: sRGB;
  rendering-intent: auto;
}

// ---------------------------------------------
// ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°
$background: #f0f1eb;
$foreground: #222;
$selection: #44475a; // Note: This seems dark for a light theme selection, consider $emacsLightColor
$comment: #6272a4;
$red: #9a2515;
$orange: #ffb86c;
$yellow: #f1fa8c;
$green: #50fa7b;
$purple: #bd93f9;
$cyan: #51483d;
$pink: #ff79c6;
$blue: #61afef; // Doom One Blue (Used for links)
$emacsColor: #7f5ab6; // ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ï¼ˆEmacsç”±æ¥ï¼‰
$vimColor: #02992f; // ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ï¼ˆVimç”±æ¥ï¼‰
$emacsLightColor: color.scale($emacsColor, $lightness: 80%);
$distinctLinkColor: #107895;
// ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼
$accent: $vimColor;
$accent2: $emacsColor;

// å¼·èª¿è¡¨ç¤ºç”¨ã®èƒŒæ™¯è‰²ã¨æ–‡å­—è‰²
$emp_bg: $emacsLightColor;
$emp_fontc: color.scale($emacsColor, $lightness: -20%);
$blockquoteBorderColor: $emacsColor;
$tableBorderColor: rgba($vimColor, 0.3);
$right-arrow: "\2192"; // Unicode character for right arrow

$cardBackgroundColor: #fff;
$cardShadowColor: rgba(0, 0, 0, 0.08);
$cardHoverShadowColor: rgba(0, 0, 0, 0.1);
$cardHeaderColor: #333;
$cardIssueColor: #dc3545; // Bootstrap danger color
$cardValueColor: #007bff; // Bootstrap primary color
$ganttShadowColor: #7e8f94;
$ganttOddRowBgColor: #f5f5f5;
$ganttEmptyRowBgColor: #ffd6d2;
$ganttLineColor: rgba(0, 0, 0, 0.1);
$ganttMonthBgColor: #0a3444;
$ganttMonthFgColor: #fff;
$ganttBarBgColor: #55de84;
$ganttBarFgColor: #fff;
$ganttStripeOverlay: rgba(255, 255, 255, 0.1);
$ganttHandleOverlay: rgba(0, 0, 0, 0.3);
$tableHeaderBgColor: rgba($vimColor, 0.1);
$tableCaptionColor: #666666;
$tableBorderBottomColor: #d3d3d3; // Light grey
$subtleTextColor: #7f7f7f; // Grey for less important text
$iconDefaultColor: #6c757d; // Bootstrap secondary text color
// --- ã‚«ã‚¹ã‚¿ãƒ å¤‰æ•° ã“ã“ã¾ã§ ---

// ---------------------------------------------
// Override theme settings (see ../template/settings.scss)
// ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼è¨­å®š
$backgroundColor: $background;
$mainColor: $foreground;
$headingColor: $foreground;
$blockMargin: 12px;
$headingMargin: 0 0 $blockMargin 0;

// ãƒªãƒ³ã‚¯ã‚«ãƒ©ãƒ¼
$linkColor: $distinctLinkColor;
$linkColorDark: color.scale($distinctLinkColor, $lightness: -20%);
$linkColorHover: color.scale($distinctLinkColor, $lightness: -50%);
$selectionBackgroundColor: $emacsLightColor; // Changed from $selection for better light theme contrast

// ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ³ãƒˆ
$codeFont:
  SFMono-Regular,
  Menlo,
  Monaco,
  Consolas,
  Liberation Mono,
  Courier New,
  monospace;

// ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºè¨­å®š
$mainFontSize: 32px; // Reduced from 40px
$mainFont: "Source Han Serif", Helvetica, sans-serif;
$headingFont: "Source Han Serif", Helvetica, sans-serif;

$headingLineHeight: 1.2;
$headingTextShadow: none;
$headingLetterSpacing: normal;
$headingTextTransform: none;
$headingFontWeight: 600;

// è¦‹å‡ºã—ã‚µã‚¤ã‚º
$heading1Size: 2.5em;
$heading2Size: 2em;
$heading3Size: 1.2em; // Increased from 0.75em - these are slide titles!
$heading4Size: 1.4em;
$heading5Size: 0.75em;
$emphasisSize: 1.2em;

// ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¦ç´ 
$overlayElementBgColor: 126, 90, 182; // emacsColorã®RGBå€¤
$overlayElementFgColor: 240, 240, 240;
// ãƒ€ãƒ¼ã‚¯ã‚¹ãƒ©ã‚¤ãƒ‰èƒŒæ™¯ã«å¯¾ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼
@include dark-bg-text-color(#fff);

// Theme template ------------------------------
@import "../template/theme";
// ---------------------------------------------

/*-- scss:rules --*/
.reveal svg text[font-family] {
  font-family:
    "Source Han Serif", "IPAMincho", "Hiragino Mincho ProN", "Yu Mincho", serif !important;
}

.reveal mjx-container svg text,
.reveal .MathJax_SVG svg text {
  font-family:
    "Source Han Serif", "IPAMincho", "Hiragino Mincho ProN", "Yu Mincho", serif !important;
}

.reveal {
  a {
    font-weight: bold; /* Makes the text bold */
    line-height: 1.5em;
  }
  slides a::before {
    content: " ðŸ”— "; /* Adds a chain link emoji after each link */
    font-size: 0.7em; /* Makes the icon slightly smaller */
  }

  section a::before {
    content: " ðŸ”— "; /* Adds a chain link emoji after each link */
    font-size: 0.8em; /* Makes the icon slightly smaller */
  }

  section a {
    color: #107895; /* Using the color from your h3 elements */
    font-weight: bold; /* Makes the text bold */
    border-bottom: 1px dotted #107895; /* Adds a dotted underline */
  }

  div.slide-number {
    right: 2.7em;
    bottom: 3.6em;
    z-index: 50;
  }

  section {
    top: 0%;
  }

  // å›³ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³
  .figure .figure-number,
  .figure p {
    font-size: 0.8em;
  }
  .figure p .figure-number {
    font-size: 1em !important; /* è¦ªè¦ç´ ã¨åŒã˜ã‚µã‚¤ã‚ºã« */
  }

  ol {
    font-size: 90%;
    line-height: 1.5;
  }
  ul {
    font-size: 90%;
    line-height: 1.5;
  }
  blockquote {
    // border-left: 4px solid $blockquoteBorderColor; // Keep commented if not needed
    position: relative;
    // --- Modification Start ---
    box-sizing: border-box; // Ensure padding is included within the width
    padding: 1em 1.5em 1em 3em; // Re-introduce some right padding for text breathing room, adjust as needed (or keep 0em if preferred)
    // --- Modification End ---
    display: block; // Keep as block
    background-color: $cardBackgroundColor;
    color: $foreground;
    border-radius: 4px;
    font-style: italic;
    font-family: Georgia, $headingFont, serif;

    &::before {
      content: "\201C";
      font-family: Georgia, $headingFont, serif;
      font-size: 4em;
      color: rgba($blue, 0.6);
      position: absolute;
      left: 0.15em;
      top: -0.05em;
      line-height: 1;
      z-index: 0;
    }

    p {
      margin-bottom: 0.5em;
      position: relative;
      z-index: 1;
      // --- Optional Modification ---
      // text-align: justify; // Justify text if needed, might help with right edge alignment
      // --- Optional Modification End ---

      &:last-child {
        margin-bottom: 0;
      }
    }

    // Citation style (no changes needed here for the spacing issue)
    cite,
    footer,
    p:last-child > em {
      display: block;
      text-align: right;
      font-style: normal;
      font-size: 0.9em;
      color: $comment;
      margin-top: 0.8em;
      position: relative;
      z-index: 1;
    }
    p:last-child:not(:first-child) {
      // Apply citation styles here if needed
    }
  }

  .highlight {
    color: $emacsColor;
    font-weight: bold;
  }

  .tech-highlight {
    color: $vimColor;
    font-weight: bold;
  }
}
// .reveal a {
//     line-height: 1.5em;
// }

.reveal p {
  // font-weight: 300;
  // font-weight: lighter;
  // margin-top: 1.25em;
}

// title and headings

#sec-title-slide {
  text-align: left;
  top: 140px;

  h1.title {
    color: $mainColor;
    font-size: 1.4em;
    // font-weight: lighter;
  }

  p.subtitle {
    color: $accent;
    font-style: italic;
    margin-top: 0em;
    // font-weight: lighter;
    margin-bottom: 2.5rem;
  }

  .institute,
  .quarto-title-affiliation,
  .quarto-title-author-email {
    font-style: italic;
    font-size: 60%;
    color: $subtleTextColor; // å¤‰æ•°ä½¿ç”¨
  }

  .author,
  .quarto-title-author-name {
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    font-size: 70%;
  }

  .quarto-title-authors {
    display: flex;
    justify-content: left;

    .quarto-title-author {
      padding-left: 0em;
      padding-right: 0em;
      width: 100%;
    }
  }

  .date {
    font-size: 70%;
  }
}

#table-of-contents-section {
  h2 {
    font-size: $heading3Size;
    display: block;
    height: auto;
    align-items: baseline;
    margin-bottom: 1.25em;
  }
}

.reveal h2 {
  // font-weight: lighter;
}

.reveal .slides section.left-align {
  text-align: left;
}

.reveal h3 {
  color: $vimColor;
  // font-weight: lighter;
  text-align: left;
}

.reveal h4 {
  color: $emacsColor;
  // font-weight: lighter;
  text-align: left;
}

.reveal h5 {
  color: $accent2;
  font-weight: normal;
  margin-top: 1.25em;
}

// alerts etc.

.alert {
  color: $accent2;
}

.fg {
  color: var(--col, $overlayElementFgColor);
}

.bg {
  background-color: var(--col, $background); // å¤‰æ•°ä½¿ç”¨ (#fff -> $background)
  padding: 0.1em;
  border-radius: 5px;
  display: inline-block;
}

.emph {
  color: $emp_fontc;
  font-weight: bold;
  font-size: $emphasisSize; // Use variable instead of hardcoded 40px
}

// lists

// Unordered lists

.reveal ul {
  padding-left: 16px;
  margin-top: 0.4em;
  margin-bottom: 0.2em;
}

.reveal ul ul {
  list-style: none;
}

.reveal ul ul ul {
  list-style: none;
}

.reveal ul ul li:before {
  content: "â†’";
  color: #70aebf;
  display: inline-block;
  width: 1em;
  margin-left: -1em;
  margin-right: 0.5em;
}

// Ordered lists

.reveal ol {
  // font-weight: lighter;
  padding-left: 16px;
  margin-top: 0.4em;
  margin-bottom: 0.2em;

  li::marker {
    color: $accent;
  }
}

// Beamer-style button link environment

.button {
  display: inline-block;
  padding: 6px 12px;
  margin-bottom: 0;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.42857143;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  cursor: pointer;
  background-color: $accent;
  border: 1px solid $accent;
  color: #fff !important; // Button text color often needs high contrast, keeping #fff
  text-decoration: none;
  border-radius: 4px;
  transition: all 0.2s ease-in-out;
}

.button:hover {
  background-color: color.scale($accent, $lightness: -10%);
  border-color: color.scale($accent, $lightness: -12%);
}

.button::before {
  content: "â–¶";
  margin-right: 5px;
}

// tables

.reveal table {
  margin: auto;
  border-collapse: collapse;
  overflow: auto;
}

.reveal table th,
.reveal table td {
  border: none;
  padding: 0.23em;
  text-align: left;
  // font-weight: lighter;
}

/* Adds a bottom border to the table header row for distinction */
.reveal table thead th,
.reveal .slides table tr:last-child td,
.reveal .slides table {
  border-bottom: 2px solid $tableBorderBottomColor; // å¤‰æ•°ä½¿ç”¨
}

/* Make column headers bold */
.reveal table thead th {
  font-weight: bold;
}

/* Styling table captions */
.reveal table caption {
  color: $tableCaptionColor; // å¤‰æ•°ä½¿ç”¨
  font-variant: small-caps;
}

// Special catch for etable environment
.etable {
  width: 100%;
  height: calc(100% - 3em);
  display: flex;
  align-items: center;
  justify-content: center;
}

.etable img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
}

/*ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ«ã®css*/
.hide-menubar {
  .reveal h2 {
    display: flex;
    align-items: center;
    height: 600px;
  }
}

// reveal-viewportã«é©ç”¨ã•ã‚Œã‚‹classã®css
.make-it-pop {
  filter: drop-shadow(0 0 10px $purple); // purple -> $purple
}

/*********************************************
 * SLIDES
 *********************************************/

// .reveal .slides {
// text-align: left;
// }

.reveal .leftcol ul,
.reveal .leftcol30 ul,
.reveal .leftcol40 ul,
.reveal .leftcol60 ul,
.reveal .leftcol70 ul {
  margin-left: 0 !important;
  padding-left: 1.2em !important;
  list-style-position: outside;
}

.reveal .leftcol ul + ul,
.reveal .leftcol30 ul + ul,
.reveal .leftcol40 ul + ul,
.reveal .leftcol60 ul + ul,
.reveal .leftcol70 ul + ul {
  margin-left: 0 !important;
}

/* Tweak spacing around the pseudo-headings (bold paragraphs) */
.reveal .leftcol p + ul {
  margin-top: 0.3em;
}

.reveal .floatright {
  float: right;
  text-align: right;
}
.reveal .leftcol {
  float: left;
  width: 48%;
}
.reveal .rightcol {
  float: right;
  width: 48%;
}
.reveal .leftcol30 {
  float: left;
  width: 28%;
}
.reveal .rightcol30 {
  float: right;
  width: 28%;
}
.reveal .leftcol40 {
  float: left;
  width: 38%;
}
.reveal .rightcol40 {
  float: right;
  width: 38%;
}
.reveal .leftcol60 {
  float: left;
  width: 58%;
}
.reveal .rightcol60 {
  float: right;
  width: 58%;
}
.reveal .leftcol70 {
  float: left;
  width: 68%;
}
.reveal .rightcol70 {
  float: right;
  width: 68%;
}

.reveal .emphasis {
  text-align: center;
  p {
    text-align: center;
    font-weight: bold;
    color: $emp_fontc;
    background-color: $emp_bg;
    font-size: $emphasisSize;
    display: inline-block;
    padding: 0.5em 1em;
    line-height: 1.8;
  }
}

// Shapes (circles, squares, etc.)
.arrow-up {
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid $accent;
}
.arrow-down {
  width: 0;
  height: 0;
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-top: 20px solid $accent;
}
.arrow-right {
  width: 0;
  height: 0;
  border-top: 60px solid transparent;
  border-bottom: 60px solid transparent;
  border-left: 60px solid $accent;
}
.arrow-left {
  width: 0;
  height: 0;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-right: 10px solid $accent;
}

.footpara {
  display: inline;
}
.footdef {
  text-align: left;
}
.footnotes {
  padding-top: 2em;
  font-size: 0.6em;
}

//Gantt chart
.gantt {
  display: grid;
  border: 0;
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  box-shadow: 0 75px 125px -57px $ganttShadowColor; // å¤‰æ•°ä½¿ç”¨
}
.gantt__row {
  display: grid;
  grid-template-columns: 150px 1fr;
  background-color: $background; // å¤‰æ•°ä½¿ç”¨ (#fff -> $background)
}
.gantt__row:nth-child(odd) {
  background-color: $ganttOddRowBgColor; // å¤‰æ•°ä½¿ç”¨
}
.gantt__row:nth-child(odd) .gantt__row-first {
  background-color: $ganttOddRowBgColor; // å¤‰æ•°ä½¿ç”¨
}
// .gantt__row:nth-child(3) .gantt__row-bars { border-top: 0; } // These seem specific, leaving as is
// .gantt__row:nth-child(3) .gantt__row-first { border-top: 0; }
.gantt__row--empty {
  background-color: $ganttEmptyRowBgColor !important; // å¤‰æ•°ä½¿ç”¨
  z-index: 1;
}
.gantt__row--empty .gantt__row-first {
  border-width: 1px 1px 0 0;
}
.gantt__row--lines {
  position: absolute;
  height: 100%;
  width: 100%;
  background-color: transparent;
  grid-template-columns: 150px repeat(12, 1fr);
}
.gantt__row--lines span {
  display: block;
  border-right: 1px solid $ganttLineColor; // å¤‰æ•°ä½¿ç”¨
}
.gantt__row--lines span.marker {
  background-color: rgba(
    10,
    52,
    68,
    0.13
  ); // Keeping specific color for marker overlay
  z-index: 2;
}
.gantt__row--lines:after {
  grid-row: 1;
  grid-column: 0;
  background-color: #1688b345; // Keeping specific color for line overlay
  z-index: 2;
  height: 100%;
}
.gantt__row--months {
  color: $ganttMonthFgColor; // å¤‰æ•°ä½¿ç”¨
  background-color: $ganttMonthBgColor !important; // å¤‰æ•°ä½¿ç”¨
  border-bottom: 1px solid $ganttLineColor; // å¤‰æ•°ä½¿ç”¨
  grid-template-columns: 150px repeat(12, 1fr);
}
.gantt__row--months .gantt__row-first {
  border-top: 0 !important;
  background-color: $ganttMonthBgColor !important; // å¤‰æ•°ä½¿ç”¨
}
.gantt__row--months span {
  text-align: center;
  font-size: 13px;
  align-self: center;
  font-weight: bold;
  padding: 20px 0;
}
.gantt__row-first {
  background-color: $background; // å¤‰æ•°ä½¿ç”¨ (#fff -> $background)
  border-width: 1px 0 0 0;
  border-color: $ganttLineColor; // å¤‰æ•°ä½¿ç”¨
  border-style: solid;
  padding: 15px 0;
  font-size: 13px;
  font-weight: bold;
  text-align: center;
}
.gantt__row-bars {
  list-style: none;
  display: grid;
  padding: 9px 0;
  margin: 0;
  grid-template-columns: repeat(12, 1fr);
  grid-gap: 8px 0;
  border-top: 1px solid color.scale($ganttLineColor, $lightness: -5%);
}
.gantt__row-bars li {
  font-weight: 500;
  text-align: left;
  font-size: 14px;
  min-height: 15px;
  background-color: $ganttBarBgColor; // å¤‰æ•°ä½¿ç”¨
  padding: 5px 12px;
  color: $ganttBarFgColor; // å¤‰æ•°ä½¿ç”¨
  overflow: hidden;
  position: relative;
  cursor: pointer;
  border-radius: 20px;
}
.gantt__row-bars li.stripes {
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 5px,
    $ganttStripeOverlay 5px,
    // å¤‰æ•°ä½¿ç”¨
    $ganttStripeOverlay 12px // å¤‰æ•°ä½¿ç”¨
  );
}
.gantt__row-bars li:before,
.gantt__row-bars li:after {
  content: "";
  height: 100%;
  top: 0;
  z-index: 4;
  position: absolute;
  background-color: $ganttHandleOverlay; // å¤‰æ•°ä½¿ç”¨
}
.gantt__row-bars li:before {
  left: 0;
}
.gantt__row-bars li:after {
  right: 0;
}

.reveal table.grid-table {
  border-collapse: collapse;
  width: 100%;
  font-size: 0.75em;
}

.reveal table.grid-table td,
.reveal table.grid-table th {
  border: 2px solid #666;
  padding: 8px;
}

.reveal table.grid-table th {
  background-color: rgba(100, 100, 100, 0.1);
  font-weight: bold;
}

.reveal pre {
  width: 95%;
  margin: 20px auto;
  box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.15);
  border-radius: 8px;
}

.reveal pre code {
  font-size: 0.85em;
  padding: 1.2em;
  line-height: 1.5;
  max-height: none;
}

/* Better results block styling */
.result-block {
  background: #f8f9fa;
  border-left: 4px solid #4a90e2;
  padding: 15px 20px;
  margin: 20px auto;
  border-radius: 4px;
  font-family: "Monaco", "Menlo", "Courier New", monospace;
  font-size: 0.9em;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
}

/* Figure styling */
.reveal .figure {
  margin: 20px auto;
}

.reveal .figure p {
  margin: 10px 0;
}

/* Caption styling */
.reveal .figure .figure-number {
  color: #666;
  font-weight: bold;
}

//  Make slide scrollable
.scrollable {
  overflow-y: scroll;
  height: 100%;
}

/* General Reveal.js Code Styling - Integrated */
.reveal pre {
  width: 100%; /* Take up all available space */
  max-width: 100%; /* Stay within container's limits */
  box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.15); /* Subtle shadow for depth */
  border-radius: 12px; /* Rounded corners */
  overflow: hidden; /* Hide content spilling out */
  margin: 0; /* Reset any margins if needed */
}

.reveal pre code {
  font-family:
    "Monaco", "Menlo", "Ubuntu Mono", "Courier New", monospace; /* Use fixed-width font */
  font-size: 0.9em; /* Adjust font size */
  border-radius: 12px; /* Inherit rounded corners */
  display: block;
  overflow: auto; /* Allow scrolling for long code lines */
  white-space: pre; /* Preserve code formatting */
  padding: 10px; /* Inner padding for readability */
}

/* Styling for Output Blocks */
.reveal pre.example {
  background: #2e3440; /* Dark background for output block */
  color: #d8dee9; /* Light text for contrast */
  border: 1px solid #4c566a; /* Subtle border */
  border-radius: 12px; /* Rounded corners */
  padding: 1.5em 1em 0.6em 1em; /* Adjust padding (top, right, bottom, left) */
  margin: 1em auto; /* Center the block vertically */
  width: 100%; /* Take up full slide width */
  max-width: 100%; /* Stay within slide boundaries */
  font-family:
    "Monaco", "Menlo", "Ubuntu Mono", "Courier New", monospace; /* Fixed-width font */
  font-size: 0.45em; /* Adjust scaling; relative */
  line-height: 1.2; /* Adjust spacing between lines */
  box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.25); /* Enhanced shadow for depth */
  position: relative;
  overflow: auto; /* Allow scrolling for long code */
}

.reveal pre.example::before {
  content: "â—‹ â—‹ â—‹  å‡ºåŠ›"; /* Leading label */
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  background: #3b4252; /* Slightly darker background for label */
  color: #88c0d0; /* Aqua color for text */
  padding: 0.3em 0.8em; /* Inner padding for label */
  border-radius: 12px 12px 0 0; /* Match top rounded corners */
  font-size: 0.65em; /* Adjust label size */
  font-weight: bold; /* Add bold weight */
}

/* Ensure code blocks respect grid layout */
.reveal pre.code-wrapper,
.reveal pre.example {
  box-sizing: border-box; /* Include padding in width */
}

/* Let code blocks wrap text (optional) */
.reveal pre code {
  white-space: pre-wrap; /* Wrap lines instead of truncating */
  word-break: break-word; /* Break long tokens when needed */
}

/* Make .org-src-container match */
.reveal .org-src-container {
  width: 100%; /* Use entire width */
  max-width: 100%; /* Stay within limits */
  margin: 15px auto; /* Center the container */
}

/* Only set max-height on scrollable slides if needed */
.scrollable .reveal pre.example {
  max-height: 50vh; /* Viewport-relative */
}

/* Custom scrollbar styling for terminal output */
.reveal pre.example::-webkit-scrollbar {
  height: 6px; /* Thinner scrollbar */
  width: 6px;
}

.reveal pre.example::-webkit-scrollbar-track {
  background: #3b4252;
}

.reveal pre.example::-webkit-scrollbar-thumb {
  background: #4c566a;
  border-radius: 4px;
}

.reveal pre.example::-webkit-scrollbar-thumb:hover {
  background: #5e81ac;
}
/* Better results block styling */
.result-block {
  background: #f8f9fa;
  border-left: 4px solid #4a90e2;
  padding: 15px 20px;
  margin: 20px auto;
  border-radius: 8px;
  font-family: "Monaco", "Menlo", "Courier New", monospace;
  font-size: 0.9em;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
}

/* Figure styling */
.reveal .figure {
  margin: 20px auto;
  max-width: 100%;

  img {
    max-width: 100%;
    max-height: 500px;
    height: auto;
    width: auto;
    object-fit: contain;
  }
}

.reveal .figure p {
  margin: 10px 0;
}

/* Caption styling */
.reveal .figure .figure-number {
  color: #666;
  font-weight: bold;
}

/* Better scaling for images in columns */
.reveal .leftcol .figure img,
.reveal .rightcol .figure img,
.reveal .leftcol30 .figure img,
.reveal .rightcol30 .figure img,
.reveal .leftcol40 .figure img,
.reveal .rightcol40 .figure img,
.reveal .leftcol60 .figure img,
.reveal .rightcol60 .figure img,
.reveal .leftcol70 .figure img,
.reveal .rightcol70 .figure img {
  max-width: 100%;
  max-height: 450px;
  height: auto !important;
  width: auto !important;
  object-fit: contain;
}

/* Alternative: Lighter terminal theme (if you prefer) */
.reveal pre.example.light-terminal {
  background: #f4f4f4;
  color: #2e3440;
  border: 1px solid #d8dee9;
}

.reveal pre.example.light-terminal::before {
  background: #e5e9f0;
  color: #5e81ac;
}

// Survey announcement box
.reveal .survey-announce {
  text-align: center;
  padding: 40px;
  background: #fff;
  border: 1px solid #d3d3d3;
  margin: 30px auto;
  max-width: 90%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  h3 {
    color: #222;
    margin-bottom: 20px;
    font-weight: 400;
    font-size: 1.3em;
    letter-spacing: 0.05em;
  }

  p {
    color: #666;
    margin-bottom: 25px;
    font-weight: 300;
    font-size: 0.95em;
  }

  a {
    display: inline-block;
    padding: 12px 28px;
    background: #222;
    color: white;
    text-decoration: none;
    border: 1px solid #222;
    font-weight: 300;
    font-size: 0.95em;
    letter-spacing: 0.1em;
    transition: all 0.2s;

    &:hover {
      background: #fff;
      color: #222;
    }
  }

  .deadline {
    color: #999;
    margin-top: 20px;
    font-size: 0.85em;
    font-weight: 300;
  }
}

.Cube {
  width: 80px;
  height: 80px;
  line-height: 80px;
  text-align: center;
  font-size: 50px;
  -webkit-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transition: -webkit-transform 0.5s 0.1s;
  transition: transform 0.5s 0.1s;
  perspective: 9999px;
  color: #333;
  margin: -40px 0 0 -40px;
  margin: 0 auto;
  position: absolute;
  left: 50%;
  margin-left: -37px;
  top: 65px;
  opacity: 1;
}
.Cube.panelLoad {
  z-index: 11;
  top: 70%;
  margin-top: 2em;
  -webkit-animation: panel 2.2s infinite forwards;
  animation: panel 2.2s infinite forwards;
}
.Cube.panelLoad .cube-face {
  color: black;
  box-shadow:
    inset 0 0 0 1px #111,
    0 0 1px 1px #111;
}
.Cube .cube-face {
  width: inherit;
  height: inherit;
  position: absolute;
  /* background: #d2e5ff; */
  background: white;
  box-shadow:
    inset 0 0 0 1px #333,
    0 0 1px 1px #333;
  opacity: 1;
}
.Cube .cube-face-front {
  transform: translate3d(0, 0, 40px);
  -webkit-transform: translate3d(0, 0, 40px);
  font-size: 57px;
}
.Cube .cube-face-back {
  -webkit-transform: rotateY(180deg) translate3d(0, 0, 40px);
  transform: rotateY(180deg) translate3d(0, 0, 40px);
}
.Cube .cube-face-left {
  -webkit-transform: rotateY(-90deg) translate3d(0, 0, 40px);
  transform: rotateY(-90deg) translate3d(0, 0, 40px);
}
.Cube .cube-face-right {
  -webkit-transform: rotateY(90deg) translate3d(0, 0, 40px);
  transform: rotateY(90deg) translate3d(0, 0, 40px);
}
.Cube .cube-face-top {
  -webkit-transform: rotateX(90deg) translate3d(0, 0, 40px);
  transform: rotateX(90deg) translate3d(0, 0, 40px);
}
.Cube .cube-face-bottom {
  -webkit-transform: rotateX(-90deg) translate3d(0, 0, 40px);
  transform: rotateX(-90deg) translate3d(0, 0, 40px);
}

@-webkit-keyframes panel {
  0% {
    -webkit-transform: rotateY(0deg) rotateZ(0deg);
  }
  20% {
    -webkit-transform: rotateY(90deg) rotateZ(0deg);
  }
  40% {
    -webkit-transform: rotateX(45deg) rotateZ(45deg);
  }
  60% {
    -webkit-transform: rotateX(90deg) rotateY(180deg) rotateX(90deg);
  }
  80% {
    -webkit-transform: rotateX(310deg) rotateZ(230deg);
  }
  100% {
    -webkit-transform: rotateX(360deg) rotateZ(360deg);
  }
}

@keyframes panel {
  0% {
    -webkit-transform: rotateY(0deg) rotateZ(0deg);
    transform: rotateY(0deg) rotateZ(0deg);
  }
  20% {
    -webkit-transform: rotateY(90deg) rotateZ(0deg);
    transform: rotateY(90deg) rotateZ(0deg);
  }
  40% {
    -webkit-transform: rotateX(45deg) rotateZ(45deg);
    transform: rotateX(45deg) rotateZ(45deg);
  }
  60% {
    -webkit-transform: rotateX(90deg) rotateY(180deg) rotateX(90deg);
    transform: rotateX(90deg) rotateY(180deg) rotateX(90deg);
  }
  80% {
    -webkit-transform: rotateX(310deg) rotateZ(230deg);
    transform: rotateX(310deg) rotateZ(230deg);
  }
  100% {
    -webkit-transform: rotateX(360deg) rotateZ(360deg);
    transform: rotateX(360deg) rotateZ(360deg);
  }
}

.restab table {
  width: 100%;
  height: 70%;
  border-collapse: collapse;
  font-size: 0.8em;
  white-space: nowrap;
}
.restab table th,
.restab table td {
  /* padding: 8px; */
  text-align: left;
  border-bottom: 1px solid #ddd;
}

.restab table th {
  background-color: #f2f2f2;
}

.restab table tr:hover {
  background-color: #f5f5f5;
}

.restab table td:first-child {
  font-weight: lighter;
}

.restab {
  max-height: 40vh;
  overflow-y: scroll;
  border-right: 1px solid #ccc;
}

.restab::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30px;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 240, 0),
    rgba(255, 255, 240, 1)
  ); /* Ivory color */
  pointer-events: none;
}

.reveal .slides .grid-wrapper {
  display: grid;
  width: 100%;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  align-items: start;
  justify-items: stretch;
}

.reveal .slides section.cols-2 .grid-wrapper {
  grid-template-columns: 1fr 1fr;
}

.reveal .slides section.cols-2 .grid-wrapper h1,
.reveal .slides section.cols-2 .grid-wrapper h2,
.reveal .slides section.cols-2 .grid-wrapper h3,
.reveal .slides section.cols-2 .grid-wrapper h4 {
  grid-column: 1 / -1;
  margin: 0 0 0.5em 0;
  text-align: center;
  align-self: center;
}

/* If you have the .title-inline class AND .cols-2, let headers sit in one column */
.reveal .slides section.cols-2.title-inline .grid-wrapper h1,
.reveal .slides section.cols-2.title-inline .grid-wrapper h2,
.reveal .slides section.cols-2.title-inline .grid-wrapper h3,
.reveal .slides section.cols-2.title-inline .grid-wrapper h4 {
  grid-column: auto;
}
.reveal .slides section.title-slide-no-grid .grid-wrapper {
  display: block;
  width: 100%;
}

.reveal .slides section.cols-2 .grid-wrapper .figure:has(img.figure-span-2) {
  grid-row: span 2;
  align-self: stretch; /* å¿…è¦ãªã‚‰ç¸¦æ–¹å‘ã„ã£ã±ã„ã«åºƒã’ã‚‹ */
}

.reveal .slides #table-of-contents-section .grid-wrapper {
  display: block;
  width: 100%;
  grid-template-columns: none;
  gap: 0;
}

.grid-wrapper > p:empty,
.grid-wrapper > div:empty {
  display: none;
}

.reveal
  .slides
  section.cols-2
  .grid-wrapper
  .org-src-container:has(pre.code-span-2) {
  grid-row: span 2;
}
